'use strict';

var defaultErrorToString = require('./errorToString');
var defaultDateToString = require('./dateToString');
var defaultColors = require('./colors');

var defaultConfig = {
  indent: ' ',
  prefix: '\n',
  postfix: ''
};

module.exports = function getConfig() {
  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  return {
    indent: simpleChoice(config.indent, defaultConfig.indent),
    prefix: simpleChoice(config.prefix, defaultConfig.prefix),
    postfix: simpleChoice(config.postfix, defaultConfig.postfix),
    errorToString: config.errorToString || defaultErrorToString,
    dateToString: config.dateToString || defaultDateToString,
    colors: Object.assign({}, defaultColors, config.colors)
  };
};

function simpleChoice(userValue, defaultValue) {
  if (typeof userValue === 'undefined') {
    return defaultValue;
  }

  return userValue;
}